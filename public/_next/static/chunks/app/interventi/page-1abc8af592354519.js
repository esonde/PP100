(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[438],{8608:function(e,t,s){Promise.resolve().then(s.bind(s,8887))},8887:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var n=s(7437),i=s(2265),a=s(6907);function l(){let[e,t]=(0,i.useState)(null),[s,l]=(0,i.useState)(null),[r,d]=(0,i.useState)(!0),[o,c]=(0,i.useState)(null);return((0,i.useEffect)(()=>{(async()=>{try{let e=await fetch("/data/manifest.json?ts=".concat(Date.now()));if(!e.ok)throw Error("Failed to fetch manifest: ".concat(e.status));let s=await e.json();t(s);let n=await (0,a.gs)(s);l(n),d(!1)}catch(e){c(e instanceof Error?e.message:"Unknown error"),d(!1)}})()},[]),r)?(0,n.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-8",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,n.jsx)("p",{className:"mt-4 text-gray-600",children:"Caricamento interventi..."})]})}):o?(0,n.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-8",children:(0,n.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"text-red-600 text-xl mr-3",children:"❌"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-red-900",children:"Errore nel caricamento"}),(0,n.jsx)("p",{className:"text-red-800 mt-1",children:o})]})]})})}):(0,n.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-8",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Interventi Live"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Monitoraggio in tempo reale degli interventi dalla Camera e dal Senato"})]}),(0,n.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500 mb-8",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Stato Pipeline"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:(null==s?void 0:s.count)===-1?"File disponibile":(null==s?void 0:s.count)===0?"Nessun intervento":"".concat(null==s?void 0:s.count," interventi")}),(0,n.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["File: ",(null==s?void 0:s.downloadUrl)?(0,n.jsxs)("a",{href:s.downloadUrl,download:s.filename,className:"text-blue-600 hover:text-blue-800 underline hover:no-underline font-medium",title:"Scarica ".concat(s.filename),children:["\uD83D\uDCE5 ",s.filename]}):(null==s?void 0:s.filename)||"N/A"]}),(0,n.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Ultimo aggiornamento: ",(null==s?void 0:s.lastUpdate)||"N/A"]})]}),(0,n.jsx)("div",{className:"text-4xl",children:"\uD83D\uDCCA"})]})}),(null==s?void 0:s.source)==="parquet"&&(0,n.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsx)("div",{className:"text-blue-600 text-xl mr-3",children:"\uD83D\uDCA1"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"File Parquet Rilevato"}),(0,n.jsxs)("p",{className:"text-blue-800 text-sm mb-3",children:["Gli interventi sono disponibili nel file"," ",s.downloadUrl?(0,n.jsxs)("a",{href:s.downloadUrl,download:s.filename,className:"text-blue-700 hover:text-blue-900 underline hover:no-underline font-medium",title:"Scarica ".concat(s.filename),children:["\uD83D\uDCE5 ",s.filename]}):(0,n.jsx)("code",{className:"bg-blue-100 px-2 py-1 rounded",children:s.filename})," ","ma non possono essere visualizzati direttamente nel browser."]}),(0,n.jsxs)("p",{className:"text-blue-800 text-sm",children:[(0,n.jsx)("strong",{children:"Prossimo step:"})," Implementare pipeline di conversione Parquet → JSON per visualizzazione web (M2 - Style & Topics)."]}),(0,n.jsxs)("p",{className:"text-blue-800 text-sm mt-2",children:[(0,n.jsx)("strong",{children:"Nota:"})," Questa pagina mostra lo ",(0,n.jsx)("em",{children:"stato operativo"})," della pipeline. Per la ",(0,n.jsx)("em",{children:"visualizzazione semantica"})," degli interventi, consulta la pagina ",(0,n.jsx)("strong",{children:"Feed"})," (disponibile da M2)."]})]})]})}),(0,n.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 mb-8",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stato Pipeline M1"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"font-medium text-gray-700",children:"Ingest (P0):"}),(0,n.jsx)("span",{className:"ml-2 text-green-600",children:"✅ Attivo"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"font-medium text-gray-700",children:"Frequenza:"}),(0,n.jsx)("span",{className:"ml-2 text-gray-600",children:"Ogni 5 minuti"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"font-medium text-gray-700",children:"Formato:"}),(0,n.jsx)("span",{className:"ml-2 text-gray-600",children:"Parquet + spans"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"font-medium text-gray-700",children:"Fonti:"}),(0,n.jsx)("span",{className:"ml-2 text-gray-600",children:"Camera + Senato"})]})]})]}),(0,n.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsx)("div",{className:"text-green-600 text-xl mr-3",children:"\uD83D\uDCCB"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-medium text-green-900 mb-2",children:"Feed vs Interventi Live"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-green-800",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h5",{className:"font-semibold mb-2",children:"\uD83D\uDCCA Interventi Live (M1)"}),(0,n.jsxs)("ul",{className:"space-y-1",children:[(0,n.jsx)("li",{children:"• Stato operativo pipeline"}),(0,n.jsx)("li",{children:"• File disponibili per download"}),(0,n.jsx)("li",{children:"• Metriche tecniche ingest"}),(0,n.jsx)("li",{children:"• Status Camera/Senato"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h5",{className:"font-semibold mb-2",children:"\uD83D\uDCF0 Feed (M2+)"}),(0,n.jsxs)("ul",{className:"space-y-1",children:[(0,n.jsx)("li",{children:"• Interventi rielaborati semanticamente"}),(0,n.jsx)("li",{children:"• Ranking qualit\xe0 argomentativa"}),(0,n.jsx)("li",{children:"• Badge e indicatori"}),(0,n.jsx)("li",{children:"• Organizzazione per temi"})]})]})]})]})]})}),(0,n.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsx)("div",{className:"text-yellow-600 text-xl mr-3",children:"\uD83D\uDE80"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-medium text-yellow-900 mb-2",children:"Prossimi Step"}),(0,n.jsxs)("div",{className:"space-y-2 text-sm text-yellow-800",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"M2:"})," Stile & Topics → conversione Parquet → JSON per web"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"M3:"})," fastText triage → argomentativit\xe0 e check-worthiness"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"M4:"})," Near-duplicate detection → badge “Copiaincolla Radar”"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"M5:"})," LLM ragionatore → fallacie, claims, steelman"]})]})]})]})}),(0,n.jsx)("div",{className:"mt-8 text-center",children:(0,n.jsx)("a",{href:"/metrics",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"← Torna alle Metriche"})})]})}},6907:function(e,t,s){"use strict";function n(e){let t=new Date,s=5*Math.ceil(t.getMinutes()/5),n=new Date(t);n.setMinutes(s,0,0),n<=t&&n.setMinutes(n.getMinutes()+5);let i=n.getTime()-t.getTime();return{nextUpdate:n.toLocaleString("it-IT"),timeUntil:"".concat(Math.ceil(i/6e4)," minuti")}}function i(e){try{return new Date(e).toLocaleString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return"Data non valida"}}async function a(e){try{let t=await fetch(e);if(!t.ok)return 0;return(await t.text()).trim().split("\n").filter(e=>e.trim()).length}catch(e){return 0}}async function l(e){try{let t=await fetch(e);if(!t.ok)return[];return(await t.text()).trim().split("\n").filter(e=>e.trim()).map(e=>JSON.parse(e))}catch(e){return[]}}async function r(){try{let[e,t,s]=await Promise.all([l("/data/persons.jsonl"),l("/data/party_registry.jsonl"),l("/data/identities_inbox.jsonl")]);return{personsCount:e.length,partiesCount:t.length,inboxCount:s.length,persons:e,parties:t,downloadUrls:{persons:"/data/persons.jsonl",parties:"/data/party_registry.jsonl",inbox:"/data/identities_inbox.jsonl"}}}catch(e){return{personsCount:0,partiesCount:0,inboxCount:0,persons:[],parties:[],downloadUrls:{persons:"/data/persons.jsonl",parties:"/data/party_registry.jsonl",inbox:"/data/identities_inbox.jsonl"}}}}async function d(e){var t;if(!(null===(t=e.current)||void 0===t?void 0:t.interventions))return{count:0,filename:"N/A",lastUpdate:"N/A",source:"none",downloadUrl:""};let s=e.current.interventions.split("/").pop()||"N/A",n=e.generated_at,l="/data/".concat(s);if(s.endsWith(".parquet"))return{count:-1,filename:s,lastUpdate:i(n),source:"parquet",downloadUrl:l};if(s.endsWith(".json")||s.endsWith(".jsonl"))try{return{count:await a("/data/".concat(s)),filename:s,lastUpdate:i(n),source:"json",downloadUrl:l}}catch(e){return{count:0,filename:s,lastUpdate:i(n),source:"json",downloadUrl:l}}return{count:0,filename:s,lastUpdate:i(n),source:"none",downloadUrl:""}}s.d(t,{f6:function(){return n},gs:function(){return d},jy:function(){return r}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=8608)}),_N_E=e.O()}]);